<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Nutrition Plan</title>
        <link rel="StyleSheet" href="WNP.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
            <script>
             document.addEventListener("DOMContentLoaded", function() {
    const SelectedElement = document.getElementById("IN");
    const extraDiv = document.querySelector(".extra");

    GB.addEventListener("click", function() {
      const Protien = [
        {
            "Meal": "Type1",
            "Food": "Chicken Breast",
            "Calories": 165,
            "Protein": 31,
            "Carbs": 0,
            "Fats": 3.6,
            "Grams": 100
        },
        {
            "Meal": "Type2",
            "Food": "Steak",
            "Calories": 271,
            "Protein": 25,
            "Carbs": 0,
            "Fats": 19,
            "Grams": 100
        },
        {
            "Meal": "Type3",
            "Food": "Salmon",
            "Calories": 208,
            "Protein": 20,
            "Carbs": 0,
            "Fats": 13,
            "Grams": 100
        },
        {
            "Meal": "Type4",
            "Food": "Eggs",
            "Calories": 155,
            "Protein": 13,
            "Carbs": 1.1,
            "Fats": 11,
            "Grams": 100
        },
        {
            "Meal": "Type5",
            "Food": "Turkey Breast",
            "Calories": 189,
            "Protein": 29,
            "Carbs": 0,
            "Fats": 7,
            "Grams": 100
        }
    ];
    const CarbsMain=[
        {
            "Meal": "Type1",
            "Food": "Steamed Rice",
            "Calories": 130,
            "Protein":2.7,
            "Carbs": 28,
            "Fats": 0.3,
            "Grams": 100
        },
        {
            "Meal": "Type2",
            "Food": "Oat Pasta",
            "Calories": 361,
            "Protein":12,
            "Carbs": 70,
            "Fats": 3,
            "Grams": 100
        },
         {
            "Meal": "Type3",
            "Food": "Potatoes",
            "Calories": 96,
            "Protein":2.5,
            "Carbs": 22,
            "Fats": 0.1,
            "Grams": 100
         }
    ];
    let promeals=[];
    
        console.log("Button clicked"); // Log to check if button click is detected

        extraDiv.innerHTML = ""; // Clear previous content

        // Check the selected target
        const target = SelectedElement.value;
        console.log("Selected target:", target);

        // Calculate macros based on the selected target
        let carbPercent, proteinPercent;
        if (target === "Weight Loss") {
            carbPercent = 50; // Example percentage for weight loss
            let pro = (parseFloat(document.getElementById("INBMI").value-500)*0.23)/4;
            console.log(pro);
            for(let item of Protien){
              let MP = item.Protein / 100;
              item.Calories /= 100;
              item.Fats /= 100;
              item.Grams /= 100;
              item.Protein /= 100;
              let g = pro / MP;
              console.log(g);
              item.Calories *= g;
              item.Fats *= g;
              item.Grams *= g;
              item.Protein *= g;
              promeals.push(item);
              console.log(item);
        }
        } else if (target === "Weight Gain") {
            carbPercent = 50; // Example percentage for weight gain
            let pro = (parseFloat(document.getElementById("INBMI").value+700)*0.27)/4;
            console.log(pro);
            for(let item of Protien){
              let MP = item.Protein / 100;
              item.Calories /= 100;
              item.Fats /= 100;
              item.Grams /= 100;
              item.Protein /= 100;
              let g = pro / MP;
              console.log(g);
              item.Calories *= g;
              item.Fats *= g;
              item.Grams *= g;
              item.Protein *= g;
              promeals.push(item);
              console.log(item);
        }
        } else if (target === "Lean Bulking") {
            carbPercent = 50; // Example percentage for lean bulking
            let pro = (parseFloat(document.getElementById("INBMI").value+500)*0.35)/4;
            console.log(pro);
            for(let item of Protien){
              let MP = item.Protein / 100;
              item.Calories /= 100;
              item.Fats /= 100;
              item.Grams /= 100;
              item.Protein /= 100;
              let g = pro / MP;
              console.log(g);
              item.Calories *= g;
              item.Fats *= g;
              item.Grams *= g;
              item.Protein *= g;
              promeals.push(item);
              console.log(item);
        }   
        } else if (target === "cutting") {
            let pro = (parseFloat(document.getElementById("INBMI").value-300)*0.35)/4;
            console.log(pro);
            for(let item of Protien){
              let MP = item.Protein / 100;
              item.Calories /= 100;
              item.Fats /= 100;
              item.Grams /= 100;
              item.Protein /= 100;
              let g = pro / MP;
              console.log(g);
              item.Calories *= g;
              item.Fats *= g;
              item.Grams *= g;
              item.Protein *= g;
              promeals.push(item);
              console.log(item);
        }   

        } else {
            alert("Please select a target.");
            return; // Stop execution if no target is selected
        }

        // Calculate total grams of macros based on BMI
        const BMI = parseFloat(document.getElementById("INBMI").value);
        console.log("Burn Rate:", BMI);
        if (isNaN(BMI)) {
            alert("Please enter a valid Burn Rate.");
            return; // Stop execution if BMI is not a number
        }
        const totalCalories = BMI * 10; // Example calculation for total calories
        const totalCarbs = (carbPercent / 100) * totalCalories / 4; // 4 calories per gram of carb
        const totalProtein = (proteinPercent / 100) * totalCalories / 4; // 4 calories per gram of protein

        // Create and append the table to the extraDiv
        const table = document.createElement("table");
        table.innerHTML = `
            <thead>
                <tr>
                    <th>Macro</th>
                    <th>Grams</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>Carbs</td>
                    <td>${totalCarbs.toFixed(2)}</td>
                </tr>
                <tr>
                    <td>Protein</td>
                    <td>${totalProtein.toFixed(2)}</td>
                </tr>
                <!-- Add more rows for other macros as needed -->
            </tbody>
        `;
        console.log("Table:", table);
        extraDiv.appendChild(table);
    });
});

            </script>
            <div class="topnav">
                <a href="homepage.html">Home</a>
                <a href="workouts.html">workouts</a>
                <a href="CreateNP.html">Nutrition Plans</a>
                <a href="account.html">Account</a>
                <a  href="index.html">Log In / Sign Up</a>
                <!-- <a href="signup.html">Sign Up</a> -->
            </div>
    </head>
    <body>
        <h id="HCUNP">Create Your Uniqe Nutrition Plan</h>
        <div class="nform">
            <div class="title">Personal Information</div>
            <select id="IN">
                <option value="">Select You Target</option>
                <option value="Weight Loss">Weight Loss</option>
                <option value="Weight Gain">Weight Gain</option>
                <option value="Lean Bulking">Lean Bulking</option>
                <!-- <option value="Dirty Bulking">Dirty Bulking</option> -->
                <option value="cutting">cutting</option>
            </select>
            <input id="IN" type="text" placeholder="Your Height">
            <input id="IN" type="text" placeholder="Your Weight">
            <input id="INBMI" type="text" placeholder="Your Burn Rate">
            <input id="IN" type="text" placeholder="Your Age">
            <input id="IN" type="text" placeholder="Your Percent Body Fat">
            <div class="radio-button-container">
              <div class="radio-button">
              <input type="radio" class="radio-button__input" id="radio1" name="radio-group">
              <label class="radio-button__label" for="radio1">
                <span class="radio-button__custom"></span>
                MALE
              </label>
            </div>
            <div class="radio-button">
              <input type="radio" class="radio-button__input" id="radio2" name="radio-group">
              <label class="radio-button__label" for="radio2">
                <span class="radio-button__custom"></span>
                FEMALE
              </label>
            </div>
            </div>

            
            <input id="IN" type="text" placeholder="Note for any Medical History">
            <div class="BTNCL">
                <button id="GB">Generate</button>
            </div>
        <div class="extra">
        </div>
        <div class="space"></div>
    </body>

</html>
        <!-- <div class="container">
            <form class="NForm">
                <div class="NLoginl">Personal Information</div>
                <select>
                    <option value="">Select You Target</option>
                    <option value="Weight Loss">Weight Loss</option>
                    <option value="Weight Gain">Weight Gain</option>
                    <option value="Lean Bulking">Lean Bulking</option>
                    <option value="Dirty Bulking">Dirty Bulking</option>
                    <option value="cutting">cutting</option>
                </select>
                <input id="IN" type="text" placeholder="Your Height">
                <input id="IN" type="text" placeholder="Your Weight">
                <input id="IN" type="text" placeholder="Your BMI">
                <input id="IN" type="text" placeholder="Note for any Medical History">
                <button>Generate</button>
            </form>

            <div id="rays">
                <svg
                fill="none"
                viewBox="0 0 299 152"
                height="9em"
                width="18em"
                xmlns="http://www.w3.org/2000/svg"
                >
            <path
            fill="url(#paint0_linear_8_3)"
            d="149.5 152H133.42L9.53674e-07 4.70132e-06H149.5L299 4.70132e-06L165.58 152H149.5z"></path>
            <defs>
                <linearGradient
                gradientUnits="userSpaceOnUse"
                y2="12.1981"
                x2="150.12"
                y1="152"
                x1="149.5"
                id="paint_linear_8_3">
                <stop stop-color="#00E0FF"></stop>
                <stop stop-opacity="0" stop-color="#65EDFF" offset="1"></stop>
            </linearGradient>
            </defs>
            </svg>
            </div>
            <div id="emiter">
                <svg
                  fill="none"
                  viewBox="0 0 160 61"
                  height="61"
                  width="160"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <g filter="url(#filter0_di_1_38)">
                    <path
                      fill="#2B2B2B"
                      d="M80 27.9997C121.974 27.9997 156 22.4032 156 15.4996L156 40.4998C156 47.4034 121.974 52.9998 80 52.9998C38.0265 52.9998 4.00028 47.4034 4 40.4998V40.4998V15.51C4.0342 22.4089 38.0474 27.9997 80 27.9997Z"
                      clip-rule="evenodd"
                      fill-rule="evenodd"
                    ></path>
                  </g>
                  <ellipse
                    fill="url(#paint0_radial_1_38)"
                    ry="4.80773"
                    rx="28.3956"
                    cy="17.4236"
                    cx="80"
                  ></ellipse>
                  <g filter="url(#filter1_i_1_38)">
                    <path
                      fill="#323232"
                      d="M80 28.0002C121.974 28.0002 156 22.4037 156 15.5001C156 8.59648 121.974 3 80 3C38.0264 3 4 8.59648 4 15.5001C4 22.4037 38.0264 28.0002 80 28.0002ZM80.0001 20.308C96.1438 20.308 109.231 18.1555 109.231 15.5002C109.231 12.845 96.1438 10.6925 80.0001 10.6925C63.8564 10.6925 50.7693 12.845 50.7693 15.5002C50.7693 18.1555 63.8564 20.308 80.0001 20.308Z"
                      clip-rule="evenodd"
                      fill-rule="evenodd"
                    ></path>
                  </g>
                  <g filter="url(#filter2_di_1_38)">
                    <path
                      fill="#378BA6"
                      d="M106.725 17.4505C108.336 16.8543 109.231 16.1943 109.231 15.4999C109.231 12.8446 96.1438 10.6921 80.0001 10.6921C63.8564 10.6921 50.7693 12.8446 50.7693 15.4999C50.7693 16.1943 51.6645 16.8543 53.2752 17.4504C53.275 17.4414 53.2748 17.4323 53.2748 17.4232C53.2748 14.768 65.2401 12.6155 80.0001 12.6155C94.7601 12.6155 106.725 14.768 106.725 17.4232C106.725 17.4323 106.725 17.4414 106.725 17.4505Z"
                      clip-rule="evenodd"
                      fill-rule="evenodd"
                    ></path>
                  </g>
                  <defs>
                    <filter
                      color-interpolation-filters="sRGB"
                      filterUnits="userSpaceOnUse"
                      height="45.5002"
                      width="160"
                      y="15.4996"
                      x="0"
                      id="filter0_di_1_38"
                    >
                      <feFlood result="BackgroundImageFix" flood-opacity="0"></feFlood>
                      <feColorMatrix
                        result="hardAlpha"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                        type="matrix"
                        in="SourceAlpha"
                      ></feColorMatrix>
                      <feOffset dy="4"></feOffset>
                      <feGaussianBlur stdDeviation="2"></feGaussianBlur>
                      <feComposite operator="out" in2="hardAlpha"></feComposite>
                      <feColorMatrix
                        values="0 0 0 0 0.620833 0 0 0 0 0.620833 0 0 0 0 0.620833 0 0 0 0.25 0"
                        type="matrix"
                      ></feColorMatrix>
                      <feBlend
                        result="effect1_dropShadow_1_38"
                        in2="BackgroundImageFix"
                        mode="normal"
                      ></feBlend>
                      <feBlend
                        result="shape"
                        in2="effect1_dropShadow_1_38"
                        in="SourceGraphic"
                        mode="normal"
                      ></feBlend>
                      <feColorMatrix
                        result="hardAlpha"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                        type="matrix"
                        in="SourceAlpha"
                      ></feColorMatrix>
                      <feOffset></feOffset>
                      <feGaussianBlur stdDeviation="8"></feGaussianBlur>
                      <feComposite
                        k3="1"
                        k2="-1"
                        operator="arithmetic"
                        in2="hardAlpha"
                      ></feComposite>
                      <feColorMatrix
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
                        type="matrix"
                      ></feColorMatrix>
                      <feBlend
                        result="effect2_innerShadow_1_38"
                        in2="shape"
                        mode="normal"
                      ></feBlend>
                    </filter>
                    <filter
                      color-interpolation-filters="sRGB"
                      filterUnits="userSpaceOnUse"
                      height="25.0002"
                      width="152"
                      y="3"
                      x="4"
                      id="filter1_i_1_38"
                    >
                      <feFlood result="BackgroundImageFix" flood-opacity="0"></feFlood>
                      <feBlend
                        result="shape"
                        in2="BackgroundImageFix"
                        in="SourceGraphic"
                        mode="normal"
                      ></feBlend>
                      <feColorMatrix
                        result="hardAlpha"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                        type="matrix"
                        in="SourceAlpha"
                      ></feColorMatrix>
                      <feMorphology
                        result="effect1_innerShadow_1_38"
                        in="SourceAlpha"
                        operator="erode"
                        radius="3"
                      ></feMorphology>
                      <feOffset></feOffset>
                      <feGaussianBlur stdDeviation="6.5"></feGaussianBlur>
                      <feComposite
                        k3="1"
                        k2="-1"
                        operator="arithmetic"
                        in2="hardAlpha"
                      ></feComposite>
                      <feColorMatrix
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"
                        type="matrix"
                      ></feColorMatrix>
                      <feBlend
                        result="effect1_innerShadow_1_38"
                        in2="shape"
                        mode="normal"
                      ></feBlend>
                    </filter>
                    <filter
                      color-interpolation-filters="sRGB"
                      filterUnits="userSpaceOnUse"
                      height="26.7583"
                      width="78.4615"
                      y="0.692139"
                      x="40.7693"
                      id="filter2_di_1_38"
                    >
                      <feFlood result="BackgroundImageFix" flood-opacity="0"></feFlood>
                      <feColorMatrix
                        result="hardAlpha"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                        type="matrix"
                        in="SourceAlpha"
                      ></feColorMatrix>
                      <feMorphology
                        result="effect1_dropShadow_1_38"
                        in="SourceAlpha"
                        operator="dilate"
                        radius="2"
                      ></feMorphology>
                      <feOffset></feOffset>
                      <feGaussianBlur stdDeviation="4"></feGaussianBlur>
                      <feComposite operator="out" in2="hardAlpha"></feComposite>
                      <feColorMatrix
                        values="0 0 0 0 0 0 0 0 0 0.941176 0 0 0 0 1 0 0 0 1 0"
                        type="matrix"
                      ></feColorMatrix>
                      <feBlend
                        result="effect1_dropShadow_1_38"
                        in2="BackgroundImageFix"
                        mode="color-dodge"
                      ></feBlend>
                      <feBlend
                        result="shape"
                        in2="effect1_dropShadow_1_38"
                        in="SourceGraphic"
                        mode="normal"
                      ></feBlend>
                      <feColorMatrix
                        result="hardAlpha"
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                        type="matrix"
                        in="SourceAlpha"
                      ></feColorMatrix>
                      <feMorphology
                        result="effect2_innerShadow_1_38"
                        in="SourceAlpha"
                        operator="erode"
                        radius="1"
                      ></feMorphology>
                      <feOffset></feOffset>
                      <feGaussianBlur stdDeviation="2"></feGaussianBlur>
                      <feComposite
                        k3="1"
                        k2="-1"
                        operator="arithmetic"
                        in2="hardAlpha"
                      ></feComposite>
                      <feColorMatrix
                        values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.52 0"
                        type="matrix"
                      ></feColorMatrix>
                      <feBlend
                        result="effect2_innerShadow_1_38"
                        in2="shape"
                        mode="normal"
                      ></feBlend>
                    </filter>
                    <radialGradient
                      gradientTransform="translate(80 17.4236) rotate(90) scale(6.25004 36.9143)"
                      gradientUnits="userSpaceOnUse"
                      r="1"
                      cy="0"
                      cx="0"
                      id="paint0_radial_1_38"
                    >
                      <stop stop-color="#00FFF0"></stop>
                      <stop stop-color="#001AFF" offset="0.901042"></stop>
                    </radialGradient>
                  </defs>
                </svg>
              </div>
            </div>
            
        </div>-->
        